{"version":3,"file":"finance-uoU-KpdA.js","sources":["../../src/pages/BudgetSuggestions.jsx","../../src/pages/finance.jsx"],"sourcesContent":["// src/components/BudgetSuggestions.jsx\r\nimport React, { useEffect, useState } from 'react';\r\n\r\n// Animated progress bar as a child component to avoid hook errors\r\nfunction AnimatedProgressBar({ percent }) {\r\n  const [animatedPercent, setAnimatedPercent] = React.useState(percent);\r\n  React.useEffect(() => {\r\n    setAnimatedPercent(percent);\r\n  }, [percent]);\r\n  // Color logic matches parent\r\n  let color = '#00ccff';\r\n  let boxShadow = '0 0 8px #00ccff';\r\n  if (percent > 100) {\r\n    color = '#dc2626';\r\n    boxShadow = '0 0 8px #dc2626';\r\n  } else if (percent > 80) {\r\n    color = '#f59e42';\r\n    boxShadow = '0 0 8px #f59e42';\r\n  }\r\n  return (\r\n    <div className=\"progress-bar\" style={{ background: '#e5e7eb', borderRadius: 8, overflow: 'hidden', height: 12 }}>\r\n      <div\r\n        className=\"progress-fill\"\r\n        style={{\r\n          width: `${animatedPercent}%`,\r\n          background: color,\r\n          height: '100%',\r\n          borderRadius: 8,\r\n          transition: 'width 0.7s cubic-bezier(.4,2,.6,1)',\r\n          boxShadow\r\n        }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst BudgetSuggestions = () => {\r\n  const [monthlySummary, setMonthlySummary] = useState(null);\r\n  const [weeklySummary, setWeeklySummary] = useState(null);\r\n  const [budgetLimits, setBudgetLimits] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    const fetchAll = async () => {\r\n      try {\r\n        // Fetch budget limits\r\n        const budgetRes = await fetch('http://localhost:5000/api/budget/summary', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        const budgetData = await budgetRes.json();\r\n        // Convert to { category: limit_amount }\r\n        const limits = {};\r\n        if (Array.isArray(budgetData)) {\r\n          budgetData.forEach(b => {\r\n            if (b.category) {\r\n              limits[b.category.toLowerCase().trim()] = b.limit_amount;\r\n            }\r\n          });\r\n        }\r\n        setBudgetLimits(limits);\r\n\r\n        // Fetch summaries\r\n        const [monthlyRes, weeklyRes] = await Promise.all([\r\n          fetch('http://localhost:5000/api/expenses/summary/monthly', {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch('http://localhost:5000/api/expenses/summary/weekly', {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n        ]);\r\n        const monthlyData = await monthlyRes.json();\r\n        const weeklyData = await weeklyRes.json();\r\n        setMonthlySummary(monthlyData);\r\n        setWeeklySummary(weeklyData);\r\n      } catch (err) {\r\n        console.error('Error fetching summaries or budgets:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchAll();\r\n  }, [token]);\r\n\r\n  const generateSuggestions = (summary, period) => {\r\n    if (!summary || !summary.categoryBreakdown) return [];\r\n\r\n    return summary.categoryBreakdown.map(item => {\r\n      const spent = parseFloat(item.total);\r\n      const catKey = item.category ? item.category.toLowerCase().trim() : '';\r\n      const limit = budgetLimits[catKey] || 0;\r\n\r\n      if (!limit || isNaN(limit)) return `No budget set for ${item.category} in this ${period}.`;\r\n\r\n      const percent = (spent / limit) * 100;\r\n\r\n      if (percent > 100) {\r\n        return `⚠️ Overspent on ${item.category} by ₦${(spent - limit).toFixed(2)} this ${period}.`;\r\n      } else if (percent > 80) {\r\n        return `⚠️ Used ${Math.round(percent)}% of your ${item.category} budget this ${period}.`;\r\n      } else if (percent < 40) {\r\n        return `✅ ${item.category} spending is low this ${period}. Great job!`;\r\n      } else {\r\n        return `ℹ️ ${item.category} is within budget this ${period}.`;\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 w-full max-w-md mx-auto mt-6\">\r\n      <h2 className=\"text-xl font-semibold text-gray-800 dark:text-white mb-4\">\r\n        Budget Suggestions\r\n      </h2>\r\n      {loading ? (\r\n        <p className=\"text-gray-600 dark:text-gray-300\">Loading...</p>\r\n      ) : (\r\n        <>\r\n          {/* Show available budget categories for debug */}\r\n          <div className=\"mb-2 text-xs text-gray-500\">\r\n            <strong>Available budget categories:</strong> {Object.keys(budgetLimits).join(', ') || 'None'}\r\n          </div>\r\n          {/* Monthly Section */}\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"text-lg font-medium text-gray-700 dark:text-gray-100 mb-2\">\r\n              Monthly Overview\r\n            </h3>\r\n            <ul className=\"space-y-1 list-disc list-inside text-gray-700 dark:text-gray-200\">\r\n              {generateSuggestions(monthlySummary, 'month').map((msg, idx) => (\r\n                <li key={`month-${idx}`}>{msg}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Weekly Section */}\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-700 dark:text-gray-100 mb-2\">\r\n              Weekly Overview\r\n            </h3>\r\n            <ul className=\"space-y-1 list-disc list-inside text-gray-700 dark:text-gray-200\">\r\n              {generateSuggestions(weeklySummary, 'week').map((msg, idx) => (\r\n                <li key={`week-${idx}`}>{msg}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n      {/* Dynamic Budget Summary Cards */}\r\n      <div className=\"budget-cards\">\r\n        {Array.isArray(Object.entries(budgetLimits)) && Object.entries(budgetLimits).length > 0 && monthlySummary && monthlySummary.categoryBreakdown && monthlySummary.categoryBreakdown.map((item, idx) => {\r\n          const catKey = item.category ? item.category.toLowerCase().trim() : '';\r\n          const limit = budgetLimits[catKey] || 0;\r\n          const spent = parseFloat(item.total);\r\n          const percent = limit > 0 ? Math.min(100, Math.round((spent / limit) * 100)) : 0;\r\n          const remaining = limit - spent;\r\n          let state = \"\";\r\n          let stateIcon = null;\r\n          let stateColor = \"\";\r\n          if (remaining < 0) {\r\n            state = `${Math.abs(percent)}% over budget`;\r\n            stateIcon = <i className=\"fas fa-exclamation-triangle me-1 text-danger\"></i>;\r\n            stateColor = \"text-danger\";\r\n          } else if (remaining <= limit * 0.2) {\r\n            state = `${percent}% used`;\r\n            stateIcon = <i className=\"fas fa-exclamation-triangle me-1 text-danger\"></i>;\r\n            stateColor = \"text-danger\";\r\n          } else {\r\n            state = \"On track\";\r\n            stateIcon = <i className=\"fas fa-check-circle me-1 text-success\"></i>;\r\n            stateColor = \"text-success\";\r\n          }\r\n\r\n          return (\r\n            <div key={idx} className=\"budget-card fade-in\">\r\n              <div className=\"budget-header\">\r\n                <div className=\"budget-title\">{item.category}</div>\r\n                <div className=\"budget-amount\">₦{Number(limit).toLocaleString('en-NG', { minimumFractionDigits: 2 })}</div>\r\n              </div>\r\n              <div className=\"progress-container\">\r\n                <div className=\"progress-info\">\r\n                  <span>Spent: ₦{Number(spent).toLocaleString('en-NG', { minimumFractionDigits: 2 })}</span>\r\n                  <span>Remaining: ₦{Number(remaining).toLocaleString('en-NG', { minimumFractionDigits: 2 })}</span>\r\n                </div>\r\n                <AnimatedProgressBar percent={percent} />\r\n              </div>\r\n              <div className={`budget-meta ${stateColor}`}>\r\n                <span>{stateIcon} {state}</span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {/* Example static savings goal card (optional, can be removed if not needed) */}\r\n      <div className=\"section-title\" style={{ marginTop: \"2rem\" }}>\r\n        <h2><i className=\"fas fa-bullseye\"></i> Savings Goals</h2>\r\n      </div>\r\n      <div className=\"budget-card fade-in\">\r\n        <div className=\"budget-header\">\r\n          <div className=\"budget-title\">New Laptop Fund</div>\r\n          <div className=\"budget-amount\">$500</div>\r\n        </div>\r\n        <div className=\"progress-container\">\r\n          <div className=\"progress-info\">\r\n            <span>Saved: $325</span>\r\n            <span>Remaining: $175</span>\r\n          </div>\r\n          <div className=\"progress-bar\">\r\n            <div className=\"progress-fill\" style={{ width: \"65%\" }}></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"budget-meta\">\r\n          <span><i className=\"fas fa-calendar me-1\"></i> Target: Aug 30, 2023</span>\r\n          <span><i className=\"fas fa-coins me-1\"></i> $35/week</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetSuggestions;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"../css/finance.css\" ;\r\n//import { Link } from \"react-router-dom\";\r\n//import MonthlySummary from \"./MonthlySummary\";\r\n//import BudgetSuggestions from \"./BudgetSuggestions\";\r\nimport Expenses from \"./Expenses\";\r\nimport {jwtDecode} from \"jwt-decode\";\r\nimport SideBar from \"./SideBar\";\r\nimport useWeeklySummary from \"./useWeeklySummary\";\r\nimport BudgetSuggestions from \"./BudgetSuggestions\";\r\n\r\nconst expenseCategories = [\r\n  \"Food\",\r\n  \"Transportation\",\r\n  \"Housing\",\r\n  \"Entertainment\",\r\n  \"Education\",\r\n  \"Shopping\",\r\n  \"Other\",\r\n];\r\n\r\nexport default function Finance() {\r\n  const spendingChartRef = useRef(null);\r\n  const incomeExpenseChartRef = useRef(null);\r\n  const [wallet, setWallet] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [showTopup, setShowTopup] = useState(false);\r\n  const [topupAmount, setTopupAmount] = useState(\"\");\r\n  const [topupLoading, setTopupLoading] = useState(false);\r\n  const [topupError, setTopupError] = useState(\"\");\r\n  // Top-up handler\r\n  const handleTopup = async (e) => {\r\n    e.preventDefault();\r\n    setTopupLoading(true);\r\n    setTopupError(\"\");\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/wallet/topup\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ amount: Number(topupAmount) }),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.message || \"Top-up failed\");\r\n      setShowTopup(false);\r\n      setTopupAmount(\"\");\r\n      fetchWallet(token);\r\n      alert(\"Wallet topped up successfully!\");\r\n    } catch (err) {\r\n      setTopupError(err.message);\r\n    } finally {\r\n      setTopupLoading(false);\r\n    }\r\n  };\r\n  const [showBudgetModal, setShowBudgetModal] = useState(false);\r\n  const [budgetForm, setBudgetForm] = useState({ category: '', limit_amount: '' });\r\n  const [budgetLoading, setBudgetLoading] = useState(false);\r\n  const [budgetError, setBudgetError] = useState('');\r\n  // Handle budget form input\r\n  const handleBudgetChange = (e) => {\r\n    setBudgetForm({ ...budgetForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Submit new budget\r\n  const handleBudgetSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setBudgetLoading(true);\r\n    setBudgetError('');\r\n    const token = localStorage.getItem('token');\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/budget', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          category: budgetForm.category,\r\n          limit_amount: Number(budgetForm.limit_amount),\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.message || 'Failed to create budget');\r\n      setShowBudgetModal(false);\r\n      setBudgetForm({ category: '', limit_amount: '' });\r\n      // Optionally, refresh budgets here\r\n    } catch (err) {\r\n      setBudgetError(err.message);\r\n    } finally {\r\n      setBudgetLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n   const { summary, loading: loadingWeekly } = useWeeklySummary();\r\n  console.log(\"Weekly summary:\", summary);\r\n    \r\n  \r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"finance-bg\");\r\n    return () => document.body.classList.remove(\"finance-bg\");\r\n  }, []);\r\n\r\n  // Chart.js logic placeholder\r\n  useEffect(() => {\r\n    // You can add Chart.js logic here using spendingChartRef and incomeExpenseChartRef\r\n  }, []);\r\n\r\n    useEffect(() => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n  \r\n      const decoded = jwtDecode(token);\r\n      setUserId(decoded.id);\r\n      //setUser(decoded);\r\n      fetchWallet(token);\r\n    }, []);\r\n\r\n\r\n  const fetchWallet = async (token) => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/wallet\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        setWallet(data);\r\n      } else {\r\n        console.error(\"Error fetching wallet:\", data.message);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch wallet failed:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-layout\">\r\n      {/* Sidebar Navigation */}\r\n<SideBar/>\r\n      {/* Main Content Area */}\r\n      <main className=\"main-content\">\r\n        {/* Dashboard Header */}\r\n        <header className=\"dashboard-header\">\r\n          <button className=\"menu-toggle\" id=\"menuToggle\">\r\n            <i className=\"fas fa-bars\"></i>\r\n          </button>\r\n          <div className=\"search-bar\" id=\"searchBar\">\r\n            <i className=\"fas fa-search\"></i>\r\n            <input type=\"text\" placeholder=\"Search transactions...\" />\r\n          </div>\r\n          <div className=\"search-profile\">\r\n            <button className=\"search-toggle\" id=\"searchToggle\">\r\n              <i className=\"fas fa-search\"></i>\r\n            </button>\r\n            <div className=\"profile-dropdown\">\r\n              <div className=\"notification-badge\">3</div>\r\n              <img src=\"https://ui-avatars.com/api/?name=Alex+Johnson&background=00ffff&color=121212\" alt=\"Alex\" />\r\n              <span>Satoru Gojo</span>\r\n              <i className=\"fas fa-chevron-down\"></i>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* Finance Tracker Content */}\r\n        <div className=\"dashboard-content\">\r\n          <div className=\"welcome-section fade-in\">\r\n            <h1>Finance Tracker</h1>\r\n            <p>Manage your expenses, track your budget, and achieve your financial goals</p>\r\n          </div>\r\n          {/* Financial Overview */}\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-card fade-in\">\r\n              <div className=\"stat-icon\">\r\n                <i className=\"fas fa-wallet\"></i>\r\n              </div>\r\n              <div className=\"stat-title\">Total Balance</div>\r\n              <div className=\"stat-value\">\r\n                {wallet\r\n                  ? `₦${Number(wallet.balance).toLocaleString('en-NG', {\r\n                      minimumFractionDigits: 2,\r\n                      maximumFractionDigits: 2,\r\n                    })}`\r\n                  : \"Loading...\"}\r\n                <button className=\"ml-2 btn btn-xs btn-outline\" onClick={() => setShowTopup(true)}>\r\n                  Top Up\r\n                </button>\r\n              </div>\r\n              <div className=\"stat-subtext\">\r\n                {loadingWeekly && \"Loading weekly spend...\"}\r\n                {!loadingWeekly && summary && summary.totalSpent !== undefined && (\r\n                  <span>Spent this week: ₦{Number(summary.totalSpent).toLocaleString('en-NG', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n                )}\r\n                {!loadingWeekly && (!summary || summary.totalSpent === undefined) && (\r\n                  <span>Weekly spend unavailable</span>\r\n                )}\r\n              </div>\r\n      {/* Top-up Modal */}\r\n      {showTopup && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h3 className=\"text-lg font-bold mb-2\">Top Up Wallet</h3>\r\n            <form onSubmit={handleTopup}>\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                className=\"w-full p-2 border rounded mb-2\"\r\n                placeholder=\"Enter amount (₦)\"\r\n                value={topupAmount}\r\n                onChange={e => setTopupAmount(e.target.value)}\r\n                required\r\n              />\r\n              {topupError && <div className=\"text-red-600 mb-2\">{topupError}</div>}\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <button type=\"submit\" className=\"btn\" disabled={topupLoading}>\r\n                  {topupLoading ? \"Topping up...\" : \"Top Up\"}\r\n                </button>\r\n                <button type=\"button\" className=\"btn btn-outline\" onClick={() => setShowTopup(false)}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n            </div>\r\n            <div className=\"stat-card fade-in\">\r\n              <div className=\"stat-icon\">\r\n                <i className=\"fas fa-arrow-up\"></i>\r\n              </div>\r\n              <div className=\"stat-title\">Monthly Income</div>\r\n              <div className=\"stat-value\">$1,200</div>\r\n              <div className=\"stat-subtext\">From part-time job</div>\r\n            </div>\r\n            <div className=\"stat-card fade-in\">\r\n              <div className=\"stat-icon\">\r\n                <i className=\"fas fa-arrow-down\"></i>\r\n              </div>\r\n              <div className=\"stat-title\">Monthly Expenses</div>\r\n              <div className=\"stat-value\">\r\n                {/* Dynamically show total monthly expenses in Naira */}\r\n                {loadingWeekly ? 'Loading...' : summary && summary.totalSpent !== undefined\r\n                  ? `₦${Number(summary.totalSpent).toLocaleString('en-NG', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\r\n                  : 'Unavailable'}\r\n              </div>\r\n              <div className=\"stat-subtext\">\r\n                {/* Optionally, show delta from last month if available */}\r\n                {summary && summary.deltaFromLastMonth !== undefined\r\n                  ? `${summary.deltaFromLastMonth >= 0 ? '+' : ''}₦${Number(summary.deltaFromLastMonth).toLocaleString('en-NG', { minimumFractionDigits: 2 })} from last month`\r\n                  : ''}\r\n              </div>\r\n\r\n                              {loadingWeekly && \"Loading weekly spend...\"}\r\n                {!loadingWeekly && summary && summary.totalSpent !== undefined && (\r\n                  <span>Spent this week: ₦{Number(summary.totalSpent).toLocaleString('en-NG', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n                )}\r\n                {!loadingWeekly && (!summary || summary.totalSpent === undefined) && (\r\n                  <span>Weekly spend unavailable</span>\r\n                )}\r\n            </div>\r\n            <div className=\"stat-card fade-in\">\r\n              <div className=\"stat-icon\">\r\n                <i className=\"fas fa-piggy-bank\"></i>\r\n              </div>\r\n              <div className=\"stat-title\">Savings Rate</div>\r\n              <div className=\"stat-value\">29%</div>\r\n              <div className=\"stat-subtext\">$350 saved this month</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"finance-grid\">\r\n            {/* Transactions */}\r\n<Expenses/>\r\n            {/* Budget Management */}\r\n            <div className=\"finance-section fade-in\">\r\n              <div className=\"section-title\">\r\n                <h2><i className=\"fas fa-chart-pie\"></i> Budget Management</h2>\r\n                <button className=\"btn\" onClick={() => setShowBudgetModal(true)}>\r\n                  <i className=\"fas fa-plus\"></i> New Budget\r\n                </button>\r\n      {/* Budget Modal */}\r\n      {showBudgetModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h3 className=\"text-lg font-bold mb-2\">Create New Budget</h3>\r\n            <form onSubmit={handleBudgetSubmit}>\r\n              <div className=\"form-group mb-2\">\r\n                <label htmlFor=\"budgetCategory\">Category</label>\r\n                <select\r\n                  id=\"budgetCategory\"\r\n                  name=\"category\"\r\n                  value={budgetForm.category}\r\n                  onChange={handleBudgetChange}\r\n                  required\r\n                  className=\"w-full p-2 border rounded\"\r\n                >\r\n                  <option value=\"\">Select category</option>\r\n                  {expenseCategories.map((cat) => (\r\n                    <option key={cat} value={cat}>{cat}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group mb-2\">\r\n                <label htmlFor=\"budgetLimit\">Limit Amount (₦)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"budgetLimit\"\r\n                  name=\"limit_amount\"\r\n                  value={budgetForm.limit_amount}\r\n                  onChange={handleBudgetChange}\r\n                  required\r\n                  className=\"w-full p-2 border rounded\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n              {budgetError && <div className=\"text-red-600 mb-2\">{budgetError}</div>}\r\n              <div className=\"flex gap-2 mt-4\">\r\n                <button type=\"submit\" className=\"btn\" disabled={budgetLoading}>\r\n                  {budgetLoading ? 'Saving...' : 'Save Budget'}\r\n                </button>\r\n                <button type=\"button\" className=\"btn btn-outline\" onClick={() => setShowBudgetModal(false)}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n              </div>\r\n<BudgetSuggestions/>\r\n            </div>\r\n            {/* Financial Charts */}\r\n            <div className=\"finance-section fade-in\">\r\n              <div className=\"section-title\">\r\n                <h2><i className=\"fas fa-chart-line\"></i> Financial Analytics</h2>\r\n              </div>\r\n              <div className=\"chart-container\">\r\n                <div className=\"chart-header\">\r\n                  <h3>Spending by Category</h3>\r\n                  <select className=\"time-filter\">\r\n                    <option>This Month</option>\r\n                    <option>Last Month</option>\r\n                    <option>Last 3 Months</option>\r\n                  </select>\r\n                </div>\r\n                <canvas ref={spendingChartRef} id=\"spendingChart\"></canvas>\r\n              </div>\r\n              <div className=\"chart-container\">\r\n                <div className=\"chart-header\">\r\n                  <h3>Income vs Expenses</h3>\r\n                  <select className=\"time-filter\">\r\n                    <option>Last 6 Months</option>\r\n                    <option>Last Year</option>\r\n                    <option>All Time</option>\r\n                  </select>\r\n                </div>\r\n                <canvas ref={incomeExpenseChartRef} id=\"incomeExpenseChart\"></canvas>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AnimatedProgressBar","percent","animatedPercent","setAnimatedPercent","React","useState","useEffect","color","boxShadow","jsx","className","style","background","borderRadius","overflow","height","children","width","transition","BudgetSuggestions","monthlySummary","setMonthlySummary","weeklySummary","setWeeklySummary","budgetLimits","setBudgetLimits","loading","setLoading","token","localStorage","getItem","async","budgetRes","fetch","headers","Authorization","budgetData","json","limits","Array","isArray","forEach","b","category","toLowerCase","trim","limit_amount","monthlyRes","weeklyRes","Promise","all","monthlyData","weeklyData","err","console","error","fetchAll","generateSuggestions","summary","period","categoryBreakdown","map","item","spent","parseFloat","total","catKey","limit","isNaN","toFixed","Math","round","jsxs","Fragment","Object","keys","join","msg","idx","entries","length","min","remaining","state","stateIcon","stateColor","abs","Number","toLocaleString","minimumFractionDigits","marginTop","expenseCategories","Finance","spendingChartRef","useRef","incomeExpenseChartRef","wallet","setWallet","userId","setUserId","showTopup","setShowTopup","topupAmount","setTopupAmount","topupLoading","setTopupLoading","topupError","setTopupError","showBudgetModal","setShowBudgetModal","budgetForm","setBudgetForm","budgetLoading","setBudgetLoading","budgetError","setBudgetError","handleBudgetChange","e","target","name","value","loadingWeekly","useWeeklySummary","log","document","body","classList","add","remove","decoded","jwtDecode","id","fetchWallet","res","data","ok","message","SideBar","type","placeholder","src","alt","balance","maximumFractionDigits","onClick","totalSpent","onSubmit","preventDefault","method","JSON","stringify","amount","Error","alert","onChange","required","disabled","deltaFromLastMonth","Expenses","htmlFor","cat","ref"],"mappings":"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"}