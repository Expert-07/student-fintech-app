import{r as e,j as t}from"./index-3K9F4zBO.js";const r=()=>{const[r,o]=e.useState([]);return e.useEffect(()=>{let e;const t=async()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("userId");if(e)try{const s=await fetch(`http://localhost:5000/api/timetable/upcoming/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!s.ok){const e=await s.json();return void console.error("Failed to fetch reminders:",e.message)}const n=await s.json();console.log("Fetched reminders:",n),n&&!n.message?(r.length>0&&r[0].id!==n.id&&onNewReminder&&onNewReminder("You have a new upcoming class reminder!"),o([n])):o([])}catch(s){console.error("Error fetching reminders:",s)}else console.error("Token not found")};return t(),e=setInterval(t,12e4),()=>clearInterval(e)},[]),t.jsx("div",{children:0===r.length?t.jsx("p",{children:"No upcoming classes"}):t.jsx("ul",{children:r.map(e=>t.jsxs("li",{className:"mb-2 border p-2 rounded",children:[t.jsx("div",{className:"font-bold",children:e.course_name||e.activity}),t.jsxs("div",{children:[e.date," @ ",e.start_time]})]},e.id))})})};export{r as default};
//# sourceMappingURL=SmartReminders-sO6aNeKy.js.map
