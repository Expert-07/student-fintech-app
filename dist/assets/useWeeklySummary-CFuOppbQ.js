import{r as e}from"./index-BIGPdA-j.js";class t extends Error{}function r(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(r){return atob(t)}}function a(e,a){if("string"!=typeof e)throw new t("Invalid token specified: must be a string");a||(a={});const n=!0===a.header?0:1,o=e.split(".")[n];if("string"!=typeof o)throw new t(`Invalid token specified: missing part #${n+1}`);let s;try{s=r(o)}catch(i){throw new t(`Invalid token specified: invalid base64 for part #${n+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new t(`Invalid token specified: invalid json for part #${n+1} (${i.message})`)}}function n(){const[t,r]=e.useState(null),[a,n]=e.useState(!0);return e.useEffect(()=>{let e;const t=async()=>{try{const e=await fetch("http://localhost:5000/api/expenses/summary/weekly",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();r(t)}catch(e){console.error("Failed to fetch weekly summary:",e)}finally{n(!1)}};return t(),e=setInterval(t,6e5),()=>clearInterval(e)},[]),{summary:t,loading:a}}t.prototype.name="InvalidTokenError";export{a as j,n as u};
//# sourceMappingURL=useWeeklySummary-CFuOppbQ.js.map
