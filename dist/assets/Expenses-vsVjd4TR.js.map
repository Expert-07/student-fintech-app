{"version":3,"file":"Expenses-vsVjd4TR.js","sources":["../../src/pages/Expenses.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport \"../css/finance.css\";\r\n\r\nconst Expenses = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [form, setForm] = useState({ title: '', amount: '', category: '' });\r\n  const [loading, setLoading] = useState(false);\r\n  const token = localStorage.getItem('token');\r\n\r\n  // Load expenses\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/expenses', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await res.json();\r\n      //   console.log(\"Fetched expenses:\", data);\r\n      console.log('Raw data: ', data);\r\n\r\n\r\n      setExpenses(data);\r\n    } catch (err) {\r\n      console.error('Failed to load expenses:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExpenses();\r\n  }, []);\r\n  useEffect(() => {\r\n    console.log('Fetched expense:', expenses);\r\n\r\n  }, [expenses]);\r\n  // Handle form input\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Submit new expense\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/expenses', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(form),\r\n      });\r\n\r\n      if (!res.ok) throw new Error('Failed to add expense');\r\n      setForm({ title: '', amount: '', category: '' });\r\n      fetchExpenses();\r\n    } catch (err) {\r\n      console.error('Add expense failed:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Delete expense\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/expenses/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!res.ok) throw new Error('Failed to delete');\r\n      fetchExpenses();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 max-w-xl mx-auto text-black\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Expenses</h2>\r\n\r\n{/*      <form onSubmit={handleSubmit} className=\"space-y-4 mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          placeholder=\"Title\"\r\n          value={form.title}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full p-2 border rounded\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"amount\"\r\n          placeholder=\"Amount\"\r\n          value={form.amount}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"w-full p-2 border rounded\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"category\"\r\n          placeholder=\"Category\"\r\n          value={form.category}\r\n          onChange={handleChange}\r\n          className=\"w-full p-2 border rounded\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n          disabled={loading}\r\n        >\r\n          {loading ? 'Adding...' : 'Add Expense'}\r\n        </button>\r\n      </form>*/}\r\n\r\n      <ul className=\"space-y-2\">\r\n        {expenses.map((exp) => (\r\n          <li\r\n            key={exp.id}\r\n            className=\"flex justify-between items-center border-b py-2\"\r\n          >\r\n            <div>\r\n              <p className=\"font-medium\">{exp.title} - â‚¦{exp.amount}</p>\r\n              <small className=\"text-gray-600\">{exp.category}</small>\r\n            </div>\r\n            <button\r\n              onClick={() => handleDelete(exp.id)}\r\n              className=\"text-red-600 hover:underline text-sm\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className=\"finance-section fade-in\">\r\n        <div className=\"section-title\">\r\n          <h2><i className=\"fas fa-exchange-alt\"></i> Transactions</h2>\r\n        </div>\r\n        <form className=\"transaction-form\" onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"transactionType\">Type</label>\r\n            <select id=\"transactionType\">\r\n              <option value=\"expense\">Expense</option>\r\n              <option value=\"income\">Income</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"transactionAmount\">Amount ($)</label>\r\n            <input type=\"number\"\r\n              name=\"amount\"\r\n              value={form.amount}\r\n              onChange={handleChange} id=\"transactionAmount\" placeholder=\"Enter amount\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"transactionCategory\">Category</label>\r\n            <select id=\"transactionCategory\" type=\"text\"\r\n              name=\"category\"\r\n              placeholder=\"Category\"\r\n              value={form.category}\r\n              onChange={handleChange}>\r\n              <option value=\"food\">Food & Dining</option>\r\n              <option value=\"transport\">Transportation</option>\r\n              <option value=\"housing\">Housing</option>\r\n              <option value=\"entertainment\">Entertainment</option>\r\n              <option value=\"education\">Education</option>\r\n              <option value=\"shopping\">Shopping</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"transactionDate\">Date</label>\r\n            <input type=\"date\" id=\"transactionDate\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"transactionDescription\">Description</label>\r\n            <input type=\"text\" id=\"transactionDescription\"\r\n              name=\"title\"\r\n              value={form.title}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter description\" />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-full\">\r\n            <i className=\"fas fa-plus\"></i> Add Transaction\r\n          </button>\r\n        </form>\r\n\r\n\r\n\r\n\r\n        <h3 style={{ marginBottom: \"1rem\" }}>Recent Transactions</h3>\r\n        <ul className=\"transaction-list\">\r\n          <li className=\"transaction-item expense fade-in\">\r\n            <div className=\"transaction-icon\">\r\n              <i className=\"fas fa-utensils\"></i>\r\n            </div>\r\n            <div className=\"transaction-details\">\r\n              <div className=\"transaction-title\">Campus Cafe</div>\r\n              <div className=\"transaction-category\">Food & Dining</div>\r\n              <div className=\"transaction-meta\">\r\n                <div className=\"transaction-amount\">-$12.50</div>\r\n                <div className=\"transaction-date\">Today, 12:30 PM</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className=\"transaction-item income fade-in\">\r\n            <div className=\"transaction-icon\">\r\n              <i className=\"fas fa-money-check\"></i>\r\n            </div>\r\n            <div className=\"transaction-details\">\r\n              <div className=\"transaction-title\">Part-time Job</div>\r\n              <div className=\"transaction-category\">Salary</div>\r\n              <div className=\"transaction-meta\">\r\n                <div className=\"transaction-amount\">+$300.00</div>\r\n                <div className=\"transaction-date\">Yesterday, 9:00 AM</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className=\"transaction-item expense fade-in\">\r\n            <div className=\"transaction-icon\">\r\n              <i className=\"fas fa-book\"></i>\r\n            </div>\r\n            <div className=\"transaction-details\">\r\n              <div className=\"transaction-title\">Textbooks</div>\r\n              <div className=\"transaction-category\">Education</div>\r\n              <div className=\"transaction-meta\">\r\n                <div className=\"transaction-amount\">-$85.75</div>\r\n                <div className=\"transaction-date\">Jul 15, 2023</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className=\"transaction-item expense fade-in\">\r\n            <div className=\"transaction-icon\">\r\n              <i className=\"fas fa-train\"></i>\r\n            </div>\r\n            <div className=\"transaction-details\">\r\n              <div className=\"transaction-title\">Bus Pass</div>\r\n              <div className=\"transaction-category\">Transportation</div>\r\n              <div className=\"transaction-meta\">\r\n                <div className=\"transaction-amount\">-$45.00</div>\r\n                <div className=\"transaction-date\">Jul 10, 2023</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <div style={{ textAlign: \"center\", marginTop: \"1.5rem\" }}>\r\n          <button className=\"btn btn-outline\">\r\n            <i className=\"fas fa-history\"></i> View All Transactions\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default Expenses;\r\n"],"names":["Expenses","expenses","setExpenses","useState","form","setForm","title","amount","category","loading","setLoading","token","localStorage","getItem","fetchExpenses","async","res","fetch","headers","Authorization","data","json","console","log","err","error","useEffect","handleChange","e","target","name","value","jsxs","className","children","jsx","map","exp","onClick","id","method","ok","Error","handleDelete","onSubmit","preventDefault","body","JSON","stringify","htmlFor","type","onChange","placeholder","style","marginBottom","textAlign","marginTop"],"mappings":"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"}